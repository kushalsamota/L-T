Open two terminals..

first terminal master node
second terminal worker node

Step2 - On the node where you have install docker earlier.

Uninstall docker
Command -----    yum remove docker-ce* -y
Command -----    rm   -rf    /var/lib/docker

Step3 - On both the node master and worker..
yum install -y yum-utils
yum-config-manager    --add-repo   https://download.docker.com/linux/centos/docker-ce.repo
Command -----  yum install docker-ce-18* -y
Command ----- systemctl start docker
Command ----- systemctl enable docker
Command ----- systemctl status docker
Command ----- docker info --------- see the server version. it must be 18

Step 3 - 

Master node ---   vi   /etc/hosts
ip of master    master.kube.com   master
ip of node        node.kube.com      node


Node -------------  vi /etc/hosts
ip of master    master.kube.com   master
ip of node        node.kube.com      node

Step 4 - 
Master node ---   cat /etc/hosts   --- and confirm whether both the ip address are listed or not
Node -------------   cat /etc/hosts ---- and confirm whether both  the ip address are listed or not

Step 5 - 
On both the nodes - master and worker
swapoff -a
free -h ----- to verify
vi /etc/selinux/config
change enforcing to disabled
save and close the file
setenforce permissive
getenforce

Step 6 

On both the nodes
copy comple command from cat to EOF and paster it to both the nodes and enter

cat <<EOF > /etc/yum.repos.d/kubernetes.repo
[kubernetes]
name=Kubernetes
baseurl=https://packages.cloud.google.com/yum/repos/kubernetes-el7-x86_64
enabled=1
gpgcheck=1
repo_gpgcheck=1
gpgkey=https://packages.cloud.google.com/yum/doc/yum-key.gpg https://packages.cloud.google.com/yum/doc/rpm-package-key.gpg
EOF

on both nodes -- command ---- ls /etc/yum.repos.d/kubernetes.repo   -- make sure it is present on both the nodes.
on both nodes --- command ---- yum install kubelet-1.18* kubectl-1.18* kubeadm-1.18* -y

Step 7 
on both the nodes -- command ---   systemctl start kubelet
on both the nodes -- command ---   systemctl enable kubelet

Step 8 
COPY THE COMMAND from cat to EOF on both the nodes

cat <<EOF > /etc/sysctl.d/k8s.conf
net.bridge.bridge-nf-call-ip6tables = 1
net.bridge.bridge-nf-call-iptables = 1
EOF

press enter.

command on both the nodes ---- command ------   sysctl --system

Step 9 

GO ON MASTER NODE
COMMAND -- ssh-keygen
press enter enter enter
COMMAND -- ssh-copy-id -p 2233 root@<ip of node>     
press enter and give password of node. 

Step 10 

Run below command on both the nodes.
master ---

hostnamectl set-hostname master.kube.com
exec bash
hostname

Worker ----
hostnamectl set-hostname node1.kube.com
exec bash
hostname

